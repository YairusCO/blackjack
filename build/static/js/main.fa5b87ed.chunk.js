(this.webpackJsonpblackjack=this.webpackJsonpblackjack||[]).push([[0],{26:function(t){t.exports=JSON.parse('{"authentication":{"sign-in":"SIGN IN","sign-up":"Sign Up","wellcome":"Welcome back to React App"}}')},39:function(t){t.exports=JSON.parse('{"authentication":{"sign-in":"s\'identifier","sign-up":"S\'inscrire","wellcome":"Bienvenue dans l\'assistant de tarification de React App"}}')},46:function(t,e){},56:function(t,e,n){},62:function(t,e,n){},72:function(t,e,n){"use strict";n.r(e);var i,o,r=n(2),a=n(25),u=n(10),c=n(11),s=n(35),l=["action"],h=new s.Dispatcher,f={},d=function(t,e){var n=Object.entries(f).reduce((function(t,e){var n=Object(c.a)(e,2),i=n[0],o=n[1];return Object(r.a)(Object(r.a)({},t),o&&Object(u.a)({},i,o))}),{});(function(t){return!!Object.keys(t).length})(n)||h.dispatch(Object(r.a)({action:t},e))},p=function(t,e){if(!t)throw Error("Action name not supplied, verify that the action exists in actions file");h.register((function(n){var i=n.action,o=Object(a.a)(n,l);(i===t||"*"===t)&&(f[i]=!0,e.call(null,Object(r.a)({action:i},o)),f[i]=!1)}))},O=n(17),b=n.n(O),g=Object.freeze(b()({APPLICATION_MOUNTED:null,APPLICATION_UNMOUNTED:null})),j=Object.freeze(b()({HOME_PAGE_ROUTE_REQUESTED:null})),v=Object.freeze(b()({UNAUTHORIZED:null,GET_CURRENT_USER:null,USER_LOGGED_OUT:null,LOGIN:null})),E=Object.freeze(b()({HTTP_API_STARTED:null,HTTP_API_ENDED:null,USER_LOGGED_IN:null})),U=Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)({},g),v),E),j),T=n(16),m=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DEBUG||window.location.search.startsWith("?debug"),A=(i=console,o=m,Object.entries(i).reduce((function(t,e){var n=Object(c.a)(e,2),a=n[0],s=n[1];return"function"===typeof s?Object(r.a)(Object(r.a)({},t),{},Object(u.a)({},a,o?s.bind(i):T.noop)):t}),{}));p(U.UNAUTHORIZED,A.error);var _=n(0),S=n.n(_),R=n(19),N=n.n(R),y=n(15),w=n(73),I=n(36),P=n.n(I),D=(n(56),n(27)),k=n(12),x=n(47),L=n(38),C=n(26),G=n(39);D.a.use(new x.a({enabled:!0,languageToPseudo:"pseudo",wrapped:!0})).use(L.a).use(k.e).init({resources:{en:{default:C},"en-US":{default:C},pseudo:{default:C},fr:{default:G}},fallbackLng:"en",debug:!1,defaultNS:["default"],interpolation:{escapeValue:!1},postProcess:["pseudo"],detection:{lookupQuerystring:"lang",lookupLocalStorage:"lang"},saveMissing:!1});var M=D.a,H=n(74),W=n(13),V=n(9),K=Object(V.a)(),z="/login",F="/sign-up",J=n(3),B=function(){return Object(J.jsx)("div",{children:"This is the LOGIN page"})},Q=function(){return Object(J.jsx)("div",{children:"This is the HOME page"})},Z=function(t){var e=t.appMounted,n=t.appWillUnmount,i=t.value,o=t.changeValue,r=t.t;return Object(_.useEffect)((function(){return e(),function(){n()}}),[e,n]),Object(J.jsxs)("div",{className:"App",children:[r("authentication.wellcome"),Object(J.jsxs)("div",{children:[i,Object(J.jsx)("button",{onClick:o,children:"Change Value"})]}),Object(J.jsx)(W.b,{history:K,children:Object(J.jsxs)(W.c,{children:[Object(J.jsx)(W.a,{exact:!0,path:"/",component:Q}),Object(J.jsx)(W.a,{exact:!0,path:z,component:B})]})})]})},q=(n(62),Object(y.b)((function(t){var e=t.appMounted,n=t.appWillUnmount,i=t.authenticationStore;return{appMounted:e,appWillUnmount:n,changeValue:i.changeValue,value:i.value}}))(Object(y.c)(Object(H.a)()(Z)))),Y=n(23),X=n(24),$=n(1);Object($.g)({enforceActions:"observed"});var tt=function(){function t(e){var n=e.apis,i=e.router,o=e.storage,r=e.window,a=e.TOKEN_KEYWORD,u=e.authenticationStore;Object(Y.a)(this,t),Object($.m)(this,{appMounted:$.f,appWillUnmount:$.f}),this.apis=n,this.router=i,this.storage=o,this.window=r,this.TOKEN_KEYWORD=a,this.authenticationStore=u,this.authenticationStore.rootStore=this,this.logout=this.logout.bind(this),this.register=this.register(this),this.loggedIn=this.loggedIn.bind(this),this.appMounted=this.appMounted.bind(this),this.appWillUnmount=this.appWillUnmount.bind(this),p(U.HTTP_API_STARTED,(function(){A.log("http call started")})),p(U.HTTP_API_ENDED,(function(){A.log("http call ended")})),p(U.USER_LOGGED_IN,this.loggedIn),i.init()}return Object(X.a)(t,[{key:"loggedIn",value:function(){}},{key:"logout",value:function(){this.storage.clear()}},{key:"register",value:function(){}},{key:"appMounted",value:function(){d(U.APPLICATION_MOUNTED,{value:"Example of value that send on action"}),d(U.GET_CURRENT_USER),A.log("App mounted")}},{key:"appWillUnmount",value:function(){d(U.APPLICATION_UNMOUNTED),A.log("App will unmount")}}]),t}(),et=n(45),nt=n.n(et);Object($.g)({enforceActions:"observed"});var it=function(){function t(e){var n=this,i=e.doesUserAuthenticated,o=e.token,r=e.whenLoginRouteUrl,a=e.logoutUrl;Object(Y.a)(this,t),this.doesUserAuthenticated=!0,this.userInfo={},this.value=1,Object($.m)(this,{doesUserAuthenticated:$.n,userInfo:$.n,credentialChange:$.f,login:$.f,logout:$.f,verifyUserAuthenticated:$.f,value:$.n,changeValue:$.f}),this.doesUserAuthenticated=i,this.token=o,this.whenLoginRouteUrl=r,this.logoutUrl=a,this.login=this.login.bind(this),this.logout=this.logout.bind(this),this.verifyUserAuthenticated=this.verifyUserAuthenticated.bind(this),this.verifyUser=this.verifyUser.bind(this),this.storeUserDetails=this.storeUserDetails.bind(this),this.changeValue=this.changeValue.bind(this),p(U.UNAUTHORIZED,this.logout),p(U.APPLICATION_MOUNTED,this.verifyUser),p(U.LOGIN,(function(t){var e=t.email;Object($.o)((function(){e&&nt()(e)&&(n.username=e)}))}))}return Object(X.a)(t,[{key:"changeValue",value:function(){var t=this;Object($.o)((function(){t.value++}))}},{key:"verifyUser",value:function(){A.log("verify user"),this.verifyUserAuthenticated()}},{key:"logout",value:function(){A.log("user logout"),d(U.USER_LOGGED_OUT)}},{key:"storeUserDetails",value:function(t){var e=t.token,n=t.username;this.rootStore.storage.set("USER_TOKEN",{token:e,username:n})}},{key:"login",value:function(){A.log("user login")}},{key:"credentialChange",value:function(t){var e=this,n=t.username,i=t.password;Object($.o)((function(){e.username=n,e.password=i}))}},{key:"verifyUserAuthenticated",value:function(){this.doesUserAuthenticated||K.push(z)}}]),t}(),ot=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=function(e){return t?"".concat(t,"_").concat(e):e};return{get:function(t,n){var i=localStorage.getItem(e(t));try{var o=JSON.parse(i);return null!==o&&void 0!==o&&o||n}catch(r){return n}},set:function(t,n){localStorage.setItem(e(t),"string"===typeof n?n:JSON.stringify(n))},clear:function(){localStorage.clear()}}}(),rt=n(46),at=n.n(rt),ut=["pathname"],ct=function(t){var e=t.url,n=t.path,i=t.options;return Object(W.d)(e,Object(r.a)(Object(r.a)({},i),{},{path:n}))},st=function(t){var e=t.history,n=[],i=function(t){var e=t.url,n=t.path,i=t.options;return!!ct({url:e,path:n,options:i})},o=function(t){var e=t.pathname,o=Object(a.a)(t,ut),u=window.location;n.filter(function(t){var e=t.url;return function(t){var n=t.route,o=t.options;return i({url:e,path:n,options:o})}}({url:e})).filter(function(t){var e=t.pathname;return function(t){var n=t.options,o=(n=void 0===n?{}:n).exclude;return!o||!i({url:o.url,path:e,options:{exact:o.exact}})}}(u)).forEach((function(t){var n=t.route,i=t.options;t.handler.call(null,Object(r.a)(Object(r.a)({},ct({url:e,path:n,options:i})),{},{options:i,routeParams:o,urlRoute:u.pathname}))}))};function u(t){t&&o(t)}return{setRoute:function t(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];var a=i[0];if("string"!==typeof a)throw new Error("Route must be a string");var s=i.slice(-1),l=Object(c.a)(s,1),h=l[0];if("function"!==typeof h)throw new Error("Handler must be a function, and at should be the last param");var f=i.slice(1,-1).reduce((function(t,e){return Object(r.a)(Object(r.a)({},t),e)}),{});return n.push({route:a,handler:h,options:f}),{setRoute:t,redirect:u}},init:function(t){e.listen(o),t&&e.replace(t)},redirect:u}},lt=st({history:K}),ht=function(t){return t.search.substr(1).split("&").filter((function(t){return t})).reduce((function(t,e){var n=e.split("="),i=Object(c.a)(n,2),o=i[0],a=i[1];return Object(r.a)(Object(r.a)({},t),{},Object(u.a)({},o,a))}),{})};lt.setRoute("/",{exact:!1,exclude:{url:z,exact:!0}},(function(t){t.params,t.path;var e=t.routeParams;t.urlRoute;d(U.HOME_PAGE_ROUTE_REQUESTED,e)})).setRoute(F,(function(t){var e=t.routeParams.search,n=ht({search:e}).email;d(F,{email:n})})).setRoute(z,(function(t){var e=t.routeParams.search,n=ht({search:e}).email;d(z,{email:n})}));var ft=lt,dt=new tt({apis:at.a,router:ft,storage:ot,window:window,authenticationStore:new it({doesUserAuthenticated:!1,token:null,username:"",password:"",whenLoginRouteUrl:"/",logoutUrl:"/login"})}),pt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,75)).then((function(e){var n=e.getCLS,i=e.getFID,o=e.getFCP,r=e.getLCP,a=e.getTTFB;n(t),i(t),o(t),r(t),a(t)}))};!function(t){var e=t.getAuthorizationHeader,n=void 0===e?function(){}:e;P.a.register({request:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=Object(r.a)(Object(r.a)({},e),{},{headers:Object(r.a)(Object(r.a)({},e.headers),n())});return[t,i]},requestError:function(t){return Promise.reject(t)},response:function(t){return t},responseError:function(t){return Promise.reject(t)}})}({getAuthorizationHeader:function(){return{Authorization:"1234"}}}),p("*",A.log),N.a.render(Object(J.jsx)(S.a.StrictMode,{children:Object(J.jsx)(w.a,{i18n:M,children:Object(J.jsx)(_.Suspense,{fallback:Object(J.jsx)("div",{children:"Loading..."}),children:Object(J.jsx)(y.a,Object(r.a)(Object(r.a)({},dt),{},{children:Object(J.jsx)(q,Object(r.a)({},dt))}))})})}),document.getElementById("root")),pt(console.log)}},[[72,1,2]]]);
//# sourceMappingURL=main.fa5b87ed.chunk.js.map